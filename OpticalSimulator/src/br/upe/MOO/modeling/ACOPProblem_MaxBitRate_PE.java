package br.upe.MOO.modeling;

import org.moeaframework.core.Solution;
import org.moeaframework.core.variable.BinaryIntegerVariable;
import org.moeaframework.core.variable.EncodingUtils;
import org.moeaframework.problem.AbstractProblem;

import br.upe.base.AmplifierType;
import br.upe.base.SimulationParameters;
import br.upe.mascara.PowerMask;
import br.upe.mascara.PowerMaskFactory;
import br.upe.optimizationUtil.ACOP_MOOProblem;
import br.upe.simulations.simPadTec19.SimSetPadTec;
import br.upe.simulations.simsetups.SimulationSetup;

/**
 * Implementation of the ACOP function.
 */
public class ACOPProblem_MaxBitRate_PE extends AbstractProblem {
    private int numberOfAmplifiers;
    private AmplifierType ampType;
    private static double MAX_VOA_ATT = 0.0f;
    private SimulationParameters simParams;

    /**
     * Constructs a new instance of the ACOPProblem function, defining it to
     * include number of amplifier decision variables and 2 objectives.
     */
    public ACOPProblem_MaxBitRate_PE(int numberOfAmplifiers, AmplifierType type, SimulationParameters parameters) {
	super(numberOfAmplifiers + 1, 1);
	this.numberOfAmplifiers = numberOfAmplifiers;
	this.ampType = type;
	this.simParams = parameters;
    }

    /**
     * Constructs a new solution and defines the bounds of the decision
     * variables.
     */
    @Override
    public Solution newSolution() {
	Solution solution = new Solution(getNumberOfVariables(), getNumberOfObjectives());

	PowerMask pm = PowerMaskFactory.getInstance().fabricatePowerMask(ampType);

	solution.setVariable(0, new BinaryIntegerVariable(-20, 20)); // Tilt
	for (int i = 1; i < getNumberOfVariables(); i++) {
	    solution.setVariable(i, new BinaryIntegerVariable(pm.getMinGain(), pm.getMaxGain())); // Gains
	}

	return solution;
    }

    /**
     * Extracts the decision variables from the solution, evaluates the
     * function, and saves the resulting objective value back to the solution.
     */
    @Override
    public void evaluate(Solution solution) {
	int[] x = EncodingUtils.getInt(solution);
	double[] f = new double[numberOfObjectives];

	ACOP_MOOProblem problem = new ACOP_MOOProblem(ampType, numberOfAmplifiers, simParams, x[0]);

	float[] gains = new float[numberOfAmplifiers];
	for (int i = 0; i < gains.length; i++) {
	    gains[i] = x[i + 1];
	}

	double[] r = problem.evaluateJustGains(gains);

	if (r == null)
	    f[0] = Double.MAX_VALUE;
	else if (r[2] > 20) // Se ripple maior que 20 dB
	    f[0] = r[3] + r[2]; // Piora o BitRate (minimização)
	else
	    f[0] = r[3];

	System.out.format("%.4f\t%.4f\t%.4f\n", r[0], 1 / r[3], r[2]);

	solution.setObjectives(f);
    }

    public static void main(String[] args) {
	float chPower = -20.0f; // -20 dBm/ch = -4 dBm ;; -19 dBm/ch = -3 dBm
	int numberCh = 40;
	int numberAmps = 20;
	float loss = 20.0f;

	// Gerando as perdas de forma aleatória
	float[] losses = { 17f, 21f, 18f, 23f, 20f, 20f, 19f, 24f, 24f, 17f, 16f, 19f, 16f, 21f, 17f, 15f, 23f, 19f,
		23f };
	// float[] losses = { 19f, 23f, 20f, 14f, 15f, 15f, 23f, 16f, 16f, 20f,
	// 15f, 15f, 20f, 18f, 16f, 18f, 15f, 19f,
	// 23f };

	SimulationSetup simSet = new SimSetPadTec(numberCh, chPower, numberAmps, losses);

	SimulationParameters simParams = new SimulationParameters(numberCh, chPower, loss, simSet);

	ACOPProblem_MaxBitRate_PE problem = new ACOPProblem_MaxBitRate_PE(simSet.getNumberOfAmplifiers(),
		AmplifierType.EDFA_1_PadTec, simParams);

	// - 4 = 0,0001 24,6527 | 20, 24, 23, 21, 23, 20, 20, 20, 20, 20, 20,
	// 16, 23, 20, 20, 20, 21, 20, 20, 15, 15
	// -3 = 0,0000 24,3527 | 11 23 22 21 14 19 20 19 20 19 17 20 18 20 18 19
	// 19 20 19 22 20
	int[][] valuesMatrix = {
		{ 6, 17, 23, 19, 15, 17, 20, 15, 20, 24, 23, 16, 20, 21, 19, 20, 20, 22, 24, 18, 19 },
		{ 9, 24, 18, 23, 18, 19, 21, 21, 20, 24, 20, 16, 19, 20, 19, 15, 23, 15, 16, 22, 15 },
		{ 8, 18, 23, 21, 19, 22, 15, 20, 20, 23, 20, 15, 19, 15, 19, 20, 19, 20, 19, 21, 21 },
		{ 10, 16, 23, 19, 15, 18, 20, 20, 20, 24, 23, 17, 15, 19, 19, 20, 20, 22, 23, 22, 20 },
		{ 7, 14, 23, 19, 15, 17, 19, 20, 20, 23, 24, 19, 17, 21, 19, 20, 19, 21, 23, 18, 23 },
		{ 3, 16, 20, 21, 14, 17, 16, 22, 23, 23, 20, 17, 16, 21, 23, 21, 18, 21, 24, 15, 20 },
		{ 6, 17, 23, 19, 15, 17, 20, 15, 20, 24, 23, 16, 20, 21, 20, 20, 20, 22, 23, 18, 19 },
		{ 6, 14, 22, 20, 20, 17, 19, 15, 20, 23, 23, 16, 19, 21, 19, 20, 21, 22, 23, 18, 20 },
		{ 5, 14, 20, 15, 20, 17, 20, 22, 20, 23, 20, 24, 18, 21, 18, 19, 19, 22, 24, 15, 20 },
		{ 8, 14, 22, 20, 15, 17, 20, 20, 20, 23, 24, 18, 17, 21, 19, 20, 18, 24, 23, 17, 23 },
		{ 6, 16, 20, 20, 20, 18, 19, 18, 20, 20, 23, 16, 15, 22, 16, 19, 24, 21, 23, 22, 20 },
		{ 6, 15, 20, 19, 15, 17, 20, 20, 23, 24, 23, 16, 19, 21, 20, 19, 15, 21, 23, 18, 24 },
		{ 7, 15, 23, 20, 15, 16, 19, 22, 19, 23, 20, 19, 17, 21, 20, 20, 18, 21, 23, 22, 20 },
		{ 9, 16, 19, 20, 16, 18, 20, 22, 18, 24, 21, 17, 19, 19, 19, 20, 20, 22, 23, 22, 20 },
		{ 9, 14, 22, 21, 14, 17, 20, 23, 20, 24, 23, 16, 14, 18, 19, 20, 23, 22, 24, 22, 20 },
		{ 9, 14, 23, 20, 19, 14, 20, 20, 19, 24, 23, 14, 19, 21, 19, 22, 19, 21, 19, 22, 23 },
		{ 9, 14, 23, 20, 15, 15, 20, 23, 19, 24, 24, 18, 18, 18, 19, 20, 23, 21, 23, 18, 20 },
		{ 7, 17, 18, 22, 20, 18, 20, 18, 15, 23, 23, 15, 20, 21, 18, 19, 23, 22, 21, 18, 21 },
		{ 7, 19, 21, 17, 14, 16, 20, 20, 23, 23, 24, 19, 20, 20, 16, 17, 16, 22, 19, 22, 24 },
		{ 8, 18, 21, 18, 14, 15, 24, 21, 20, 23, 24, 17, 19, 20, 16, 24, 19, 19, 19, 18, 24 },
		{ 9, 15, 23, 20, 14, 17, 19, 21, 24, 24, 20, 17, 16, 18, 20, 20, 18, 21, 23, 21, 23 },
		{ 9, 15, 23, 20, 15, 15, 20, 22, 20, 24, 24, 16, 18, 20, 20, 20, 20, 21, 23, 18, 20 },
		{ 8, 14, 20, 24, 18, 18, 20, 22, 19, 15, 23, 17, 20, 19, 19, 23, 23, 14, 20, 22, 23 },
		{ 9, 16, 23, 20, 16, 15, 20, 20, 20, 24, 23, 17, 16, 19, 19, 20, 20, 21, 23, 22, 20 },
		{ 9, 14, 16, 20, 23, 20, 20, 21, 20, 22, 22, 15, 23, 14, 21, 18, 21, 19, 22, 22, 20 },
		{ 6, 20, 19, 19, 14, 17, 20, 20, 23, 24, 23, 16, 16, 18, 21, 19, 16, 20, 23, 18, 23 },
		{ 9, 14, 20, 23, 21, 15, 20, 21, 19, 24, 20, 16, 14, 21, 19, 19, 20, 22, 23, 22, 21 },
		{ 9, 14, 20, 20, 21, 16, 19, 23, 18, 23, 23, 20, 15, 18, 19, 20, 22, 21, 20, 18, 23 },
		{ 8, 17, 17, 24, 20, 15, 23, 21, 16, 23, 23, 17, 19, 20, 20, 20, 20, 16, 21, 15, 23 },
		{ 9, 20, 18, 20, 18, 14, 20, 21, 21, 24, 20, 17, 15, 21, 19, 19, 23, 24, 24, 16, 20 },
		{ 14, 24, 21, 20, 15, 21, 19, 23, 21, 24, 20, 17, 17, 21, 19, 20, 18, 15, 16, 23, 20 },
		{ 9, 15, 17, 24, 23, 15, 20, 21, 21, 23, 20, 17, 19, 20, 19, 19, 23, 17, 22, 16, 20 },
		{ 6, 20, 21, 20, 15, 19, 20, 15, 21, 23, 20, 17, 15, 21, 19, 19, 23, 24, 16, 22, 20 },
		{ 6, 17, 15, 20, 16, 22, 20, 22, 23, 24, 21, 17, 19, 19, 19, 20, 20, 15, 17, 22, 20 },
		{ 6, 14, 21, 15, 20, 24, 20, 22, 20, 23, 20, 16, 18, 15, 15, 19, 24, 21, 23, 19, 20 },
		{ 6, 15, 24, 19, 14, 17, 20, 20, 23, 24, 23, 16, 16, 18, 20, 19, 17, 20, 23, 18, 23 },
		{ 9, 14, 22, 23, 23, 14, 20, 20, 22, 17, 20, 14, 19, 21, 20, 18, 20, 21, 23, 22, 20 },
		{ 9, 14, 23, 20, 21, 18, 20, 23, 15, 24, 23, 18, 14, 18, 19, 20, 22, 21, 20, 18, 20 },
		{ 14, 17, 24, 20, 18, 20, 20, 21, 22, 22, 19, 20, 15, 21, 14, 24, 20, 14, 23, 22, 19 },
		{ 4, 21, 18, 21, 20, 15, 19, 20, 20, 24, 23, 18, 14, 15, 19, 18, 18, 24, 14, 20, 24 },
		{ 6, 17, 23, 23, 15, 22, 20, 19, 21, 23, 20, 14, 17, 15, 20, 24, 20, 15, 16, 22, 20 },
		{ 3, 18, 20, 21, 17, 15, 16, 20, 23, 24, 20, 17, 23, 18, 20, 21, 18, 20, 21, 15, 18 },
		{ 9, 19, 21, 23, 20, 16, 19, 23, 18, 24, 23, 15, 16, 19, 20, 19, 15, 21, 23, 15, 20 },
		{ 6, 15, 23, 20, 23, 16, 20, 21, 20, 19, 23, 23, 17, 21, 19, 19, 15, 14, 24, 15, 19 },
		{ 6, 15, 23, 23, 19, 17, 20, 20, 21, 15, 20, 16, 20, 19, 19, 20, 21, 21, 19, 21, 20 },
		{ 11, 17, 22, 22, 21, 24, 19, 20, 21, 20, 15, 20, 15, 24, 15, 20, 22, 15, 21, 21, 17 },
		{ 6, 15, 22, 23, 20, 17, 19, 20, 15, 23, 23, 15, 15, 20, 20, 19, 20, 21, 20, 22, 20 },
		{ 6, 17, 23, 19, 15, 18, 20, 18, 20, 24, 20, 20, 16, 21, 15, 19, 20, 21, 23, 22, 19 },
		{ 6, 14, 20, 21, 23, 22, 16, 23, 15, 19, 20, 18, 18, 21, 20, 20, 20, 22, 15, 18, 24 },
		{ 6, 14, 20, 20, 20, 22, 19, 18, 20, 23, 23, 15, 20, 16, 20, 19, 23, 16, 19, 18, 23 },
		{ 8, 14, 14, 24, 20, 15, 24, 21, 20, 23, 23, 17, 19, 19, 16, 23, 23, 16, 21, 18, 23 },
		{ 9, 18, 21, 20, 15, 19, 20, 20, 20, 23, 23, 17, 18, 20, 24, 21, 15, 19, 23, 15, 20 },
		{ 10, 18, 23, 21, 21, 23, 18, 23, 15, 23, 16, 17, 20, 20, 18, 20, 15, 24, 19, 19, 17 },
		{ 6, 15, 20, 22, 20, 16, 20, 20, 20, 24, 23, 18, 18, 21, 21, 16, 19, 14, 19, 21, 20 },
		{ 6, 15, 21, 20, 21, 19, 19, 21, 20, 24, 20, 18, 15, 18, 20, 20, 23, 17, 15, 18, 23 },
		{ 9, 17, 23, 23, 16, 15, 20, 22, 23, 24, 24, 16, 17, 20, 20, 20, 14, 19, 19, 18, 19 },
		{ 8, 17, 23, 23, 18, 14, 20, 20, 19, 24, 15, 22, 20, 19, 19, 19, 20, 21, 23, 15, 19 },
		{ 8, 16, 16, 24, 20, 18, 20, 20, 20, 23, 20, 17, 20, 20, 23, 20, 19, 16, 20, 15, 23 },
		{ 9, 19, 21, 20, 20, 16, 20, 20, 20, 23, 23, 18, 16, 21, 19, 20, 15, 21, 23, 15, 20 },
		{ 9, 16, 20, 20, 20, 15, 20, 23, 20, 24, 20, 16, 17, 21, 20, 24, 20, 18, 16, 22, 20 },
		{ 14, 19, 16, 21, 21, 19, 20, 21, 20, 23, 20, 16, 15, 23, 18, 20, 20, 24, 20, 21, 20 },
		{ 8, 18, 21, 23, 19, 14, 20, 20, 19, 24, 20, 14, 20, 19, 19, 19, 20, 21, 23, 18, 19 },
		{ 9, 16, 24, 20, 16, 18, 20, 21, 15, 24, 20, 17, 19, 21, 19, 20, 20, 22, 23, 18, 20 },
		{ 17, 17, 24, 24, 20, 16, 19, 19, 20, 24, 23, 20, 19, 21, 19, 20, 15, 15, 19, 20, 24 },
		{ 8, 14, 20, 24, 17, 16, 24, 22, 20, 22, 23, 17, 19, 19, 16, 23, 15, 15, 20, 21, 23 },
		{ 9, 15, 24, 19, 15, 18, 20, 20, 22, 23, 24, 17, 19, 19, 19, 20, 23, 17, 23, 15, 20 },
		{ 6, 17, 15, 22, 16, 19, 20, 20, 20, 24, 20, 17, 20, 20, 19, 20, 23, 16, 17, 23, 23 },
		{ 17, 20, 24, 21, 21, 16, 20, 20, 20, 22, 20, 15, 14, 24, 16, 23, 20, 18, 20, 21, 24 },
		{ 7, 18, 18, 23, 21, 23, 18, 21, 18, 23, 20, 16, 17, 21, 14, 18, 23, 19, 14, 19, 23 },
		{ 6, 19, 21, 23, 15, 16, 20, 23, 18, 24, 23, 14, 17, 18, 20, 19, 15, 21, 23, 15, 23 },
		{ 8, 18, 23, 21, 14, 22, 15, 23, 15, 24, 23, 17, 20, 14, 19, 22, 16, 21, 19, 22, 23 },
		{ 9, 14, 15, 24, 20, 19, 24, 21, 20, 23, 23, 18, 16, 20, 16, 20, 23, 18, 22, 15, 20 },
		{ 9, 15, 24, 20, 15, 18, 20, 23, 15, 24, 20, 16, 20, 21, 19, 23, 19, 22, 22, 18, 20 },
		{ 6, 15, 24, 19, 15, 17, 20, 20, 20, 24, 23, 16, 16, 18, 24, 20, 17, 20, 24, 15, 23 },
		{ 9, 16, 17, 22, 20, 23, 24, 21, 21, 22, 20, 16, 16, 18, 21, 19, 19, 19, 23, 18, 14 },
		{ 8, 17, 20, 19, 18, 19, 16, 22, 20, 24, 20, 21, 15, 21, 20, 21, 20, 20, 17, 18, 24 },
		{ 14, 17, 23, 23, 18, 18, 20, 21, 22, 24, 15, 22, 16, 20, 15, 19, 20, 21, 20, 22, 19 },
		{ 7, 19, 22, 23, 16, 17, 19, 20, 23, 24, 20, 17, 15, 18, 20, 21, 15, 20, 23, 15, 20 },
		{ 7, 18, 19, 23, 24, 18, 19, 21, 14, 24, 15, 19, 15, 22, 20, 15, 20, 15, 23, 24, 21 },
		{ 9, 15, 23, 23, 20, 17, 19, 21, 23, 23, 19, 17, 20, 20, 20, 19, 20, 14, 23, 18, 15 },
		{ 8, 16, 19, 24, 21, 17, 19, 19, 20, 20, 20, 20, 15, 24, 20, 19, 21, 16, 18, 18, 24 },
		{ 7, 16, 24, 23, 14, 19, 15, 20, 23, 23, 20, 16, 15, 18, 21, 18, 18, 20, 24, 21, 23 },
		{ 6, 20, 20, 20, 20, 17, 19, 15, 20, 22, 23, 16, 15, 22, 19, 19, 24, 23, 20, 15, 20 },
		{ 16, 15, 24, 21, 20, 19, 24, 21, 15, 23, 23, 16, 16, 20, 16, 20, 19, 23, 18, 21, 24 },
		{ 7, 16, 18, 23, 20, 24, 18, 21, 17, 18, 20, 17, 16, 20, 21, 18, 23, 15, 21, 21, 23 },
		{ 6, 15, 24, 23, 20, 17, 19, 15, 20, 23, 23, 16, 19, 21, 19, 20, 18, 15, 20, 20, 20 },
		{ 6, 16, 22, 23, 23, 20, 15, 21, 20, 23, 15, 19, 16, 14, 19, 21, 20, 21, 17, 22, 20 },
		{ 7, 19, 21, 19, 14, 17, 15, 20, 23, 23, 23, 16, 24, 21, 20, 18, 15, 20, 22, 21, 23 },
		{ 6, 14, 20, 21, 20, 22, 16, 23, 15, 24, 20, 18, 21, 18, 20, 20, 23, 16, 16, 18, 23 },
		{ 8, 15, 21, 23, 23, 21, 15, 20, 15, 24, 20, 15, 19, 23, 20, 19, 19, 21, 19, 18, 20 },
		{ 6, 14, 19, 21, 14, 22, 15, 21, 23, 24, 23, 17, 22, 16, 20, 21, 22, 18, 18, 19, 23 },
		{ 14, 14, 22, 20, 19, 18, 20, 20, 23, 24, 20, 15, 19, 21, 19, 19, 20, 21, 23, 21, 20 },
		{ 9, 15, 23, 21, 18, 19, 19, 21, 20, 19, 20, 18, 18, 21, 20, 19, 19, 19, 23, 21, 19 },
		{ 9, 15, 20, 24, 20, 21, 19, 18, 19, 23, 19, 16, 20, 20, 23, 19, 20, 14, 24, 18, 18 },
		{ 9, 15, 20, 21, 20, 16, 20, 20, 20, 24, 23, 18, 19, 21, 20, 16, 20, 14, 24, 21, 20 },
		{ 7, 18, 19, 20, 22, 18, 24, 21, 19, 20, 20, 16, 20, 15, 17, 20, 19, 16, 17, 24, 23 },
		{ 9, 15, 23, 23, 16, 15, 20, 22, 23, 24, 24, 16, 18, 20, 20, 20, 15, 14, 24, 18, 20 },
		{ 15, 22, 21, 20, 20, 15, 20, 20, 23, 20, 23, 15, 21, 21, 17, 19, 19, 19, 17, 24, 20 },
		{ 6, 19, 19, 24, 19, 19, 19, 18, 20, 24, 20, 14, 19, 20, 24, 15, 20, 19, 19, 15, 20 },
		{ 7, 14, 21, 18, 15, 24, 20, 22, 23, 24, 20, 16, 14, 17, 20, 20, 17, 20, 23, 19, 23 },
		{ 16, 18, 18, 21, 20, 19, 24, 20, 20, 23, 23, 15, 18, 20, 19, 16, 16, 23, 21, 20, 24 },
		{ 6, 14, 20, 21, 23, 17, 19, 21, 20, 20, 20, 19, 18, 21, 15, 19, 19, 22, 23, 18, 19 },
		{ 9, 14, 20, 23, 21, 16, 20, 21, 20, 23, 23, 19, 17, 21, 18, 15, 20, 22, 23, 15, 20 },
		{ 6, 14, 22, 23, 20, 17, 19, 20, 20, 24, 20, 18, 14, 19, 20, 18, 20, 21, 23, 15, 20 },
		{ 4, 15, 19, 19, 19, 21, 19, 24, 18, 23, 16, 17, 14, 21, 18, 21, 19, 23, 22, 22, 18 },
		{ 16, 16, 24, 24, 20, 16, 20, 19, 19, 23, 23, 21, 19, 21, 19, 20, 15, 15, 19, 21, 23 },
		{ 5, 16, 23, 23, 15, 18, 20, 22, 20, 23, 15, 19, 18, 15, 15, 23, 20, 22, 18, 22, 20 },
		{ 14, 17, 17, 23, 21, 18, 20, 21, 20, 23, 23, 17, 19, 20, 18, 20, 23, 15, 19, 22, 20 },
		{ 17, 18, 19, 19, 20, 19, 24, 19, 20, 24, 23, 15, 18, 21, 19, 20, 16, 23, 19, 20, 24 },
		{ 9, 17, 24, 22, 21, 18, 20, 18, 20, 24, 20, 20, 16, 15, 16, 21, 22, 19, 19, 22, 15 },
		{ 9, 18, 21, 19, 20, 16, 20, 20, 20, 23, 23, 16, 16, 18, 24, 20, 16, 20, 23, 15, 23 },
		{ 6, 16, 19, 22, 19, 19, 20, 21, 20, 24, 20, 19, 18, 20, 22, 15, 20, 18, 19, 15, 20 },
		{ 6, 17, 21, 23, 17, 23, 16, 21, 23, 23, 19, 16, 17, 19, 21, 18, 18, 16, 16, 19, 23 },
		{ 9, 15, 19, 24, 21, 14, 20, 20, 23, 24, 20, 15, 16, 18, 20, 19, 19, 21, 23, 18, 23 },
		{ 9, 16, 19, 23, 19, 23, 20, 22, 19, 24, 21, 16, 19, 19, 18, 19, 18, 16, 23, 15, 20 },
		{ 8, 21, 20, 23, 15, 21, 20, 20, 14, 22, 22, 17, 18, 14, 21, 20, 20, 18, 22, 22, 20 },
		{ 14, 17, 23, 23, 18, 18, 19, 19, 22, 24, 15, 23, 14, 23, 15, 19, 21, 22, 20, 22, 19 },
		{ 10, 19, 19, 23, 20, 18, 20, 20, 14, 24, 23, 16, 16, 19, 20, 20, 20, 23, 23, 15, 20 },
		{ 5, 14, 20, 20, 20, 17, 20, 21, 23, 24, 20, 15, 21, 21, 15, 19, 16, 22, 24, 15, 19 },
		{ 9, 15, 23, 20, 20, 16, 20, 20, 20, 24, 23, 18, 18, 21, 21, 18, 16, 14, 23, 21, 20 },
		{ 6, 18, 20, 14, 19, 20, 24, 21, 19, 20, 24, 24, 21, 15, 17, 17, 18, 15, 17, 24, 20 },
		{ 9, 19, 19, 23, 20, 17, 19, 23, 18, 24, 23, 17, 16, 18, 20, 19, 14, 22, 23, 15, 20 },
		{ 10, 17, 22, 22, 21, 16, 19, 21, 20, 20, 20, 22, 14, 22, 16, 20, 21, 20, 21, 22, 15 },
		{ 3, 14, 20, 20, 20, 15, 19, 21, 23, 24, 23, 16, 14, 21, 20, 18, 18, 22, 20, 18, 19 },
		{ 6, 19, 23, 20, 20, 16, 20, 19, 20, 24, 23, 18, 16, 21, 19, 20, 15, 14, 24, 15, 19 },
		{ 11, 15, 20, 23, 20, 21, 20, 20, 14, 24, 23, 16, 15, 19, 20, 20, 20, 19, 23, 22, 20 },
		{ 11, 17, 20, 24, 18, 20, 20, 21, 15, 24, 20, 16, 15, 20, 18, 21, 21, 18, 22, 24, 20 },
		{ 9, 16, 19, 20, 20, 17, 20, 23, 20, 24, 20, 16, 14, 21, 20, 19, 22, 22, 15, 23, 21 },
		{ 7, 14, 24, 24, 15, 16, 20, 20, 19, 24, 23, 14, 18, 21, 19, 20, 22, 18, 20, 18, 20 },
		{ 7, 18, 20, 24, 18, 15, 21, 21, 23, 20, 20, 17, 16, 21, 19, 20, 15, 19, 17, 24, 20 },
		{ 9, 17, 23, 23, 17, 19, 20, 21, 22, 24, 19, 16, 16, 22, 21, 21, 14, 14, 19, 18, 23 },
		{ 7, 16, 23, 21, 14, 16, 20, 22, 20, 24, 20, 16, 20, 21, 20, 21, 15, 23, 17, 22, 19 },
		{ 10, 18, 21, 23, 17, 22, 15, 20, 22, 24, 20, 16, 20, 15, 21, 21, 15, 20, 23, 15, 23 },
		{ 14, 17, 16, 24, 23, 15, 23, 20, 20, 22, 24, 18, 20, 16, 22, 18, 21, 17, 18, 22, 20 },
		{ 6, 20, 23, 21, 14, 19, 20, 20, 20, 22, 19, 16, 15, 16, 16, 23, 23, 18, 20, 21, 23 },
		{ 9, 17, 22, 20, 20, 17, 19, 23, 15, 22, 20, 20, 15, 21, 20, 19, 20, 20, 18, 21, 23 },
		{ 6, 19, 20, 23, 20, 14, 19, 19, 20, 24, 20, 14, 20, 22, 19, 16, 20, 23, 20, 15, 20 },
		{ 9, 21, 19, 19, 15, 18, 20, 22, 23, 24, 19, 16, 16, 19, 21, 19, 19, 19, 23, 19, 20 },
		{ 9, 14, 20, 20, 20, 15, 20, 22, 19, 24, 20, 18, 17, 21, 20, 19, 20, 21, 23, 22, 20 },
		{ 9, 15, 20, 21, 20, 16, 20, 20, 20, 24, 23, 18, 18, 21, 21, 17, 20, 14, 23, 21, 20 },
		{ 8, 17, 23, 21, 17, 18, 15, 22, 20, 24, 20, 18, 15, 21, 19, 21, 15, 21, 18, 22, 24 },
		{ 6, 14, 20, 21, 16, 22, 20, 21, 20, 23, 20, 18, 18, 21, 20, 21, 15, 14, 22, 22, 20 },
		{ 9, 15, 15, 22, 20, 19, 23, 21, 20, 23, 23, 14, 19, 21, 16, 20, 23, 14, 23, 21, 20 },
		{ 9, 16, 21, 23, 19, 21, 19, 20, 19, 24, 20, 16, 19, 24, 20, 19, 19, 14, 23, 18, 15 },
		{ 7, 14, 20, 22, 14, 23, 20, 23, 20, 23, 23, 17, 20, 17, 17, 22, 17, 18, 20, 15, 23 },
		{ 7, 15, 23, 21, 16, 21, 20, 21, 20, 23, 20, 15, 17, 18, 20, 20, 19, 21, 23, 15, 20 },
		{ 8, 19, 22, 20, 15, 20, 19, 20, 20, 23, 23, 17, 17, 14, 20, 20, 18, 21, 23, 18, 20 },
		{ 6, 19, 16, 23, 16, 17, 19, 20, 20, 23, 20, 17, 16, 20, 19, 20, 20, 21, 23, 22, 20 },
		{ 6, 15, 20, 23, 21, 17, 20, 21, 20, 15, 19, 17, 17, 21, 20, 19, 24, 21, 19, 22, 20 },
		{ 4, 17, 21, 22, 15, 18, 16, 18, 23, 23, 23, 17, 22, 21, 15, 20, 18, 22, 20, 15, 20 } };


	for (int i = 0; i < valuesMatrix.length; i++) {

	    int[] values = valuesMatrix[i];

	    Solution solution = new Solution(21, 1);
	    solution.setVariable(0, new BinaryIntegerVariable(values[0], -20, 20));
	    for (int j = 1; j < values.length; j++) {
		solution.setVariable(j, new BinaryIntegerVariable(values[j], 14, 24));
	    }

	    problem.evaluate(solution);
	}
    }

}